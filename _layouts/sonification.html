---
layout: default
---

{% include JB/setup %}

<!-- Sonification-specific styles -->
<style>
  /* Full-width container for sonification projects */
  .sonification-container {
    max-width: 100%;
    margin: 0;
    padding: 0;
  }
  
  /* Override the default container constraints for full-width demos */
  .sonification-demo {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    min-height: 70vh;
    position: relative;
  }
  
  /* Ensure interactive elements are responsive */
  .sonification-demo canvas,
  .sonification-demo .mandala-container,
  .sonification-demo .control-panel {
    max-width: 100%;
    height: auto;
  }
  
  /* Article content styling for sonification posts */
  .sonification-article {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }
  
  /* Special styling for embedded interactive demos */
  .demo-section {
    background: linear-gradient(145deg, #2c3e50 0%, #34495e 100%);
    border-radius: 15px;
    margin: 2rem 0;
    padding: 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
  
  .demo-title {
    color: #1abc9c;
    text-align: center;
    margin-bottom: 1rem;
    font-family: 'Orbitron', monospace;
  }
  
  .demo-description {
    color: #ecf0f1;
    text-align: center;
    margin-bottom: 2rem;
    opacity: 0.9;
  }
  
  /* Audio context warning */
  .audio-notice {
    background: rgba(26, 188, 156, 0.1);
    border: 2px solid rgba(26, 188, 156, 0.3);
    border-radius: 10px;
    padding: 1rem;
    margin: 1rem 0;
    color: #1abc9c;
    text-align: center;
  }
  
  /* Mobile responsiveness for sonification demos */
  @media (max-width: 768px) {
    .sonification-demo {
      margin-left: 0;
      width: 100%;
    }
    
    .demo-section {
      margin: 1rem -1rem;
      border-radius: 0;
    }
    
    .sonification-article {
      padding: 1rem;
    }
  }
</style>

<div class="sonification-container">
  <div class="sonification-article">
    <div class="article-wrapper">
      <div class="article-header">
        <div class="article-meta">
          <span><i class="bi bi-calendar3"></i> {{ page.date | date: "%B %d, %Y" }}</span>
          <span class="separator">â€¢</span>
          {% include reading_time.html %}
          
          {% if page.categories %}
          <span class="separator">â€¢</span>
          <span>
            <i class="bi bi-folder"></i> 
            {% for category in page.categories %}
              <a href="{{ site.categories_path }}#{{ category }}-ref" class="text-muted">{{ category }}</a>{% unless forloop.last %}, {% endunless %}
            {% endfor %}
          </span>
          {% endif %}
        </div>
      </div>
      
      <div class="article-content">
        {{ content }}
      </div>
      
      {% if page.categories %}
      <div class="article-tags">
        {% for category in page.categories %}
          <a href="{{ site.categories_path }}#{{ category }}-ref" class="article-tag">{{ category }}</a>
        {% endfor %}
      </div>
      {% endif %}
      
      {% include social_sharing.html %}
      {% include author_bio.html %}
      {% include content_nav.html %}
      {% include related_posts.html %}
      {% include comments.html %}
    </div>
  </div>
</div>

<!-- Enhanced CSS for better article presentation -->
<link rel="stylesheet" href="/css/enhanced.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

<!-- Sonification-specific JavaScript utilities -->
<script>
  // Utility functions for sonification projects
  window.SonificationUtils = {
    // Ensure audio context is enabled
    enableAudioContext: async function() {
      if (window.Tone && window.Tone.context.state !== 'running') {
        await window.Tone.start();
        console.log('Audio context enabled');
      }
    },
    
    // Add click-to-enable-audio notice
    addAudioNotice: function(containerId) {
      const container = document.getElementById(containerId);
      if (container) {
        const notice = document.createElement('div');
        notice.className = 'audio-notice';
        notice.innerHTML = 'ðŸ”Š Click anywhere in the demo area to enable audio';
        notice.style.cursor = 'pointer';
        
        notice.addEventListener('click', async () => {
          await this.enableAudioContext();
          notice.style.display = 'none';
        });
        
        container.insertBefore(notice, container.firstChild);
      }
    },
    
    // Responsive utilities for demos
    makeResponsive: function(elementId) {
      const element = document.getElementById(elementId);
      if (element) {
        element.style.maxWidth = '100%';
        element.style.height = 'auto';
      }
    }
  };
  
  // Auto-enable audio context on first user interaction
  document.addEventListener('DOMContentLoaded', function() {
    document.body.addEventListener('click', async function enableAudio() {
      if (window.SonificationUtils) {
        await window.SonificationUtils.enableAudioContext();
      }
      document.body.removeEventListener('click', enableAudio);
    }, { once: true });
  });
</script>
